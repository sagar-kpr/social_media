{let t=function(){let t=$("#post-form");t.submit((function(n){n.preventDefault(),$.ajax({type:"post",url:"/post/create",data:t.serialize(),success:function(t){let n=i(t.data.post,t.data.user);e("Status Posted Successfully."),$("#post-box").prepend(n),o($(" .del-btn",n)),$("#textarea").val(""),new postComments(t.data.post._id),new ToggleLike($(" .toggle-like",n))},error:function(t){console.log(t.responseText)}})}))},e=function(t){new Noty({theme:"semanticui",text:t,type:"success",timeout:800,layout:"topRight"}).show()},n=function(t){new Noty({theme:"semanticui",text:t,type:"error",timeout:800,layout:"topRight"}).show()},i=function(t,e){return $(`<div class="posts" id="posts-${t._id}">\n        <div id="name-and-del-box">\n            <div id="profile-name">\n                <div id="profile">\n                    <img  src="${e.avatar}" alt="${e.first}">\n                </div>\n                <div id="name">\n                    <strong>${e.first} ${e.last}</strong>\n                </div>\n                \n            </div>\n            <div id="cross"><span><a class="del-btn" href="/post/destroy/${t._id}">x</a></span></div>\n        </div>\n        <div id="post-content">\n            <p> ${t.content}</p>\n        </div>\n        <div id="comment-box">\n            <div class="comment-scroller" id="comment-scroller-${t._id}"></div>\n            <div id="form-controller">\n                <div id="form-img">\n                    <img src="${e.avatar}" >\n                </div>\n                <div id="form-text">\n                    <form action="/comment/create" id="comment-form-${t._id}" method="post">\n                        <textarea type="text" id="cmntArea" name="content" placeholder="Write a comment..." required cols="40" rows="1"></textarea>\n                        <input type="hidden" name="post" value="${t._id}"> \n                        <input type="submit" value="Comment" id="comment-btn">\n                    </form>\n                </div>\n            \n            </div>\n        </div>\n        <hr>\n        <div id="post-like">\n            <div id="like-logo-count">\n                <a class="toggle-like" id="like" href="likes/toggle/?id=${t._id}&type=Post" >\n                    <i class="like-color"></i>\n                </a>\n                <div id="count" data-likes= "0">\n                    <span >&nbsp; 0</span>\n                </div>\n            </div>\n        </div>\n    </div>`)},o=function(t){$(t).click((function(e){e.preventDefault(),$.ajax({type:"get",url:$(t).prop("href"),success:function(t){$(`#posts-${t.data.post_id}`).remove(),n("Post Deleted!")},error:function(t){console.log(t.responseText)}})}))},s=function(){$("#post-box > div").each((function(){o($(" .del-btn",$(this)));let t=$(this).prop("id").split("-")[1];new postComments(t)}))};t(),s()}