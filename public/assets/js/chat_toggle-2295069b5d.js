class ChatToggle{constructor(i){this.user=i,this.toggler=$(this.user)[0].children[0],this.create(this.user)}create(){$(this.toggler).click((function(i){i.preventDefault();console.log("href::",$(this).attr("href")),$.ajax({type:"post",url:$(this).attr("href"),success:function(i){$("#msg-box").css("display","none");let n=i.data.user,e=i.data.local;console.log("user found",e);let s=$(`<div id="chat-box">\n                    <div id="chat-header">\n                        <div id="user-box">\n                            <div id="user-img">\n                                <img src="${n.avatar}">\n                            </div>\n                            <div id="user-name">\n                                <p>${n.first} ${n.last}</p>\n                            </div>\n                        </div>\n                        <div id="cross-box">\n                            <div id="minimize">\n                                <i class="fa-sharp fa-solid fa-minus"></i>\n                            </div>\n                         </div>\n                    </div>\n                    <ul id="chat-container">\n                        <li class="other-msg">\n                        </li>\n                        <li class="self-msg">\n                        </li>\n                    </ul>\n                    <div id="inp-container">\n                        <input placeholder="Type here..." id="inp">\n                        <div id="send"><i id="btn" class="fa-solid fa-paper-plane"></i></div>\n                    </div>\n                </div>`),t=$(` <script>\n                                     var minimize = document.getElementById('minimize');\n                    var j = 0 ;\n\n                    var chatbox = document.getElementById('chat-box');                 \n\n                    minimize.addEventListener('click', function(){\n                        if(j % 2 == 0){\n                            chatbox.style.height = '40px'\n                        }else{\n                            console.log('maximize')\n                            chatbox.style.height = '430px'\n                        }\n                        j++;\n                    })\n                <\/script>`);$("#main").append(s),$("#main").append(t)},error:function(i){console.log("err in chat box",i)}})}))}}